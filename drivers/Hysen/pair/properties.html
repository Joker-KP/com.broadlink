<!--
 * Driver for Broadlink devices
 *
 * Copyright 2018, R Wensveen
 *
 * This file is part of com.broadlink
 * com.broadlink is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 * com.broadlink is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 * You should have received a copy of the GNU General Public License
 * along with com.broadlink.  If not, see http://www.gnu.org/licenses/.
-->

<style type="text/css">
  span label {
    width: 100px
  }
  p {text-align:center}
  table,td {width:100% ; height:100%}
</style>


<style type="text/css">
    .broadlink-pairing {
        display: flex;
        justify-content: space-between;
        flex-wrap: wrap;
        width: 100%;
    }
    .buttons, .messages {
        padding-top: 14px;
    }
</style>


<p data-i18n="Properties">Properties</p>
    <div class="broadlink-pairing">
<table>
<TR><TD>
        <div class="form-group">
            <input type="checkbox" class="form-control" id="externalSensor">
            <label for="Sensors" data-i18n="Sensors">Has external sensor</label>
        </div>
</td></TR><tr><td>
        <div class="form-group buttons">
	        <table><TR>
	           <TD align="left"><button  id="add"    onclick="add()"    class="button" data-i18n="pair.add"></button>
	           <TD align="right"><button id="cancel" onclick="cancel()" class="button" data-i18n="pair.cancel"></button>
            </TR></table>
        </div>
</td></TR>
</table>
</div>

<script type="text/javascript">

Homey.setTitle('Properties');

Homey.on('properties_done', function (d) {
	Homey.showView("add_devices")
	//Homey.nextView();
})


function add( data ) {
	var val = document.getElementById('externalSensor').checked;
	var properties = { 'externalSensor': val }
	Homey.emit('properties_set', properties, null )    
}


// function called when user pressed button
function cancel(data) {
	Homey.emit('disconnect');
	Homey.done();
}


</script>
