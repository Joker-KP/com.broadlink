{
	"id": "com.broadlink",
	"version": "1.0.0",
	"compatibility": ">=1.5.0",
	"sdk": 2,
	"name": {
		"en": "Broadlink"
	},
	"tags":{
		"en": [ "IR", "Remote Control", "Infrared", "wifi"]
	},
	"description": {
		"en": "Adds support for Broadlink devices.",
		"nl": "Voegt ondersteuning voor Broadlink apparaten toe."
	},
	"category": [
		"appliances"
	],
	"permissions": ["homey:manager:api"],
	"images": {
		"large": "/assets/images/large.jpg",
		"small": "/assets/images/small.jpg"
	},
	"author": {
		"name": "Remko Wensveen",
		"email": "r966430@gmail.com"
	},
	"capabilities" : {
		"learn": {
			"type": "boolean",
			"title": {
				"en": "Start learn mode",
				"nl": "Start leer modus"
			},
			"getable": false,
			"setable": true
		}
	},
	"capabilitiesOptions": {
		"learn": {
			"preventInsights":true
		}
	},
	"drivers": [
	{
		"id": "RM3_mini",
		"name": {
			"en": "RM3 Mini",
			"nl": "RM3 Mini"
		},
		"images": {
			"large": "./drivers/RM3_mini/assets/images/large.jpg",
			"small": "./drivers/RM3_mini/assets/images/small.jpg"
		},
		"class": "other",
		"capabilities" : ["learn"],
		"mobile": {
			"components": [ 
				{
					"id": "icon",
					"capabilities": []
				},
				{
					"id": "button",
					"capabilities": ["learn"]
				}
			]
		},
		"pair": [
			{
				"id": "start"
			},
			{
				"id": "list_devices",
				"template": "list_devices",
				"navigation": {
					"next": "add_devices"
				}
			},
			{
				"id": "add_devices",
				"template": "add_devices"
			}
	 	],
		"settings": [
			{
				"type":"group",
				"label": {
					"en": "RC Commands",
					"nl": "RC commando's"
				},
				"description": {
					"en": "Change name to give a command a new name. Clear name to delete a command. Note that this may break you flows",
					"nl": "Pas de naam aan om het commando te benoemen. Verwijder de naam om een commando te wissen. Let op: dit kan bestaande flows invalide maken."
				},
				"children": [
					{
						"id": "RcCmd0",
						"type": "text",
						"value": "",
						"label": {
							"en": "1"
						},
						"hint": {
							"en": "Name of the command the RM3 Mini learned.",
							"nl": "Naam van het commando dat de RM3 Mini heeft geleerd."
						}
					},
					{
						"id": "RcCmd1",
						"type": "text",
						"value": "",
						"label": {
							"en": "2"
						},
						"hint": {
							"en": "Name of the command the RM3 Mini learned.",
							"nl": "Naam van het commando dat de RM3 Mini heeft geleerd."
						}
					},
					{
						"id": "RcCmd2",
						"type": "text",
						"value": "",
						"label": {
							"en": "3"
						},
						"hint": {
							"en": "Name of the command the RM3 Mini learned.",
							"nl": "Naam van het commando dat de RM3 Mini heeft geleerd."
						}
					},
					{
						"id": "RcCmd3",
						"type": "text",
						"value": "",
						"label": {
							"en": "4"
						},
						"hint": {
							"en": "Name of the command the RM3 Mini learned.",
							"nl": "Naam van het commando dat de RM3 Mini heeft geleerd."
						}
					},
					{
						"id": "RcCmd4",
						"type": "text",
						"value": "",
						"label": {
							"en": "5"
						},
						"hint": {
							"en": "Name of the command the RM3 Mini learned.",
							"nl": "Naam van het commando dat de RM3 Mini heeft geleerd."
						}
					},
					{
						"id": "RcCmd5",
						"type": "text",
						"value": "",
						"label": {
							"en": "6"
						},
						"hint": {
							"en": "Name of the command the RM3 Mini learned.",
							"nl": "Naam van het commando dat de RM3 Mini heeft geleerd."
						}
					},
					{
						"id": "RcCmd6",
						"type": "text",
						"value": "",
						"label": {
							"en": "7"
						},
						"hint": {
							"en": "Name of the command the RM3 Mini learned.",
							"nl": "Naam van het commando dat de RM3 Mini heeft geleerd."
						}
					},
					{
						"id": "RcCmd7",
						"type": "text",
						"value": "",
						"label": {
							"en": "8"
						},
						"hint": {
							"en": "Name of the command the RM3 Mini learned.",
							"nl": "Naam van het commando dat de RM3 Mini heeft geleerd."
						}
					},
					{
						"id": "RcCmd8",
						"type": "text",
						"value": "",
						"label": {
							"en": "9"
						},
						"hint": {
							"en": "Name of the command the RM3 Mini learned.",
							"nl": "Naam van het commando dat de RM3 Mini heeft geleerd."
						}
					},
					{
						"id": "RcCmd9",
						"type": "text",
						"value": "",
						"label": {
							"en": "10"
						},
						"hint": {
							"en": "Name of the command the RM3 Mini learned.",
							"nl": "Naam van het commando dat de RM3 Mini heeft geleerd."
						}
					},
					{
						"id": "RcCmd10",
						"type": "text",
						"value": "",
						"label": {
							"en": "11"
						},
						"hint": {
							"en": "Name of the command the RM3 Mini learned.",
							"nl": "Naam van het commando dat de RM3 Mini heeft geleerd."
						}
					},
					{
						"id": "RcCmd11",
						"type": "text",
						"value": "",
						"label": {
							"en": "12"
						},
						"hint": {
							"en": "Name of the command the RM3 Mini learned.",
							"nl": "Naam van het commando dat de RM3 Mini heeft geleerd."
						}
					},
					{
						"id": "RcCmd12",
						"type": "text",
						"value": "",
						"label": {
							"en": "13"
						},
						"hint": {
							"en": "Name of the command the RM3 Mini learned.",
							"nl": "Naam van het commando dat de RM3 Mini heeft geleerd."
						}
					},
					{
						"id": "RcCmd13",
						"type": "text",
						"value": "",
						"label": {
							"en": "14"
						},
						"hint": {
							"en": "Name of the command the RM3 Mini learned.",
							"nl": "Naam van het commando dat de RM3 Mini heeft geleerd."
						}
					},
					{
						"id": "RcCmd14",
						"type": "text",
						"value": "",
						"label": {
							"en": "15"
						},
						"hint": {
							"en": "Name of the command the RM3 Mini learned.",
							"nl": "Naam van het commando dat de RM3 Mini heeft geleerd."
						}
					},
					{
						"id": "RcCmd15",
						"type": "text",
						"value": "",
						"label": {
							"en": "16"
						},
						"hint": {
							"en": "Name of the command the RM3 Mini learned.",
							"nl": "Naam van het commando dat de RM3 Mini heeft geleerd."
						}
					},
					{
						"id": "RcCmd16",
						"type": "text",
						"value": "",
						"label": {
							"en": "17"
						},
						"hint": {
							"en": "Name of the command the RM3 Mini learned.",
							"nl": "Naam van het commando dat de RM3 Mini heeft geleerd."
						}
					},
					{
						"id": "RcCmd17",
						"type": "text",
						"value": "",
						"label": {
							"en": "18"
						},
						"hint": {
							"en": "Name of the command the RM3 Mini learned.",
							"nl": "Naam van het commando dat de RM3 Mini heeft geleerd."
						}
					},
					{
						"id": "RcCmd18",
						"type": "text",
						"value": "",
						"label": {
							"en": "19"
						},
						"hint": {
							"en": "Name of the command the RM3 Mini learned.",
							"nl": "Naam van het commando dat de RM3 Mini heeft geleerd."
						}
					},
					{
						"id": "RcCmd19",
						"type": "text",
						"value": "",
						"label": {
							"en": "20"
						},
						"hint": {
							"en": "Name of the command the RM3 Mini learned.",
							"nl": "Naam van het commando dat de RM3 Mini heeft geleerd."
						}
					}
				]
			}
		]
	}
	],
	"flow": {
		"triggers" : [
			{
				"id":"RC_sent_any",
				"title": {
					"en": "Any Remote Command transmitted",
					"nl": "Commando verzonden"
				},
				"tokens": [
					{
						"name": "CommandSent",
						"type": "string",
						"title": {
							"en": "Command sent",
							"nl": "Verzonden commando"
						},
						"example": {
							"en": "Program Up",
							"nl": "Volgend Programma"
						}
					}
				],
				"args": [
					{
						"name": "RM3_mini",
						"type": "device",
						"filter": "driver_uri=homey:app:com.broadlink&driver_id=RM3_mini"
					}
				]
			},
			{
				"id":"RC_specific_sent",
				"title": {
					"en": "Remote Command transmitted",
					"nl": "Commando verzonden"
				},
				"args": [
					{
						"name": "placeholder_arg",
						"type": "device",
						"filter": "driver_uri=homey:app:com.broadlink&driver_id=RM3_mini"
					},
					{
						"name": "variable",
						"type": "autocomplete",
						"placeholder": {
							"en": "name",
							"nl": "naam"
						}
					}
				]
			}
		],
		"actions": [
			{
				"id": "send_command",
				"title": {
					"en": "Send Remote Command",
					"nl": "Verstuur commando"
				},
				"args": [
					{
						"name": "placeholder_arg",
						"type": "device",
						"filter": "driver_uri=homey:app:com.broadlink&driver_id=RM3_mini"
					},
					{
						"name": "variable",
						"type": "autocomplete",
						"placeholder": {
							"en": "name",
							"nl": "naam"
						}
					}
				]
			}
      
      			
        ]
	}
}